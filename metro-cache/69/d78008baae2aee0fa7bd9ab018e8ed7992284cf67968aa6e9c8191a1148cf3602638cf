{"dependencies":[{"name":"../../tokenizer","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":12},"end":{"line":3,"column":22}},{"start":{"line":4,"column":13},"end":{"line":4,"column":24}},{"start":{"line":5,"column":12},"end":{"line":5,"column":22}},{"start":{"line":6,"column":24},"end":{"line":6,"column":46}},{"start":{"line":7,"column":25},"end":{"line":7,"column":48}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var IDENT = _$$_REQUIRE(_dependencyMap[0], \"../../tokenizer\").TYPE.Ident;\n\n  var STRING = _$$_REQUIRE(_dependencyMap[0], \"../../tokenizer\").TYPE.String;\n\n  var COLON = _$$_REQUIRE(_dependencyMap[0], \"../../tokenizer\").TYPE.Colon;\n\n  var LEFTSQUAREBRACKET = _$$_REQUIRE(_dependencyMap[0], \"../../tokenizer\").TYPE.LeftSquareBracket;\n\n  var RIGHTSQUAREBRACKET = _$$_REQUIRE(_dependencyMap[0], \"../../tokenizer\").TYPE.RightSquareBracket;\n\n  var DOLLARSIGN = 0x0024;\n  var ASTERISK = 0x002A;\n  var EQUALSSIGN = 0x003D;\n  var CIRCUMFLEXACCENT = 0x005E;\n  var VERTICALLINE = 0x007C;\n  var TILDE = 0x007E;\n\n  function getAttributeName() {\n    if (this.scanner.eof) {\n      this.error('Unexpected end of input');\n    }\n\n    var start = this.scanner.tokenStart;\n    var expectIdent = false;\n    var checkColon = true;\n\n    if (this.scanner.isDelim(ASTERISK)) {\n      expectIdent = true;\n      checkColon = false;\n      this.scanner.next();\n    } else if (!this.scanner.isDelim(VERTICALLINE)) {\n      this.eat(IDENT);\n    }\n\n    if (this.scanner.isDelim(VERTICALLINE)) {\n      if (this.scanner.source.charCodeAt(this.scanner.tokenStart + 1) !== EQUALSSIGN) {\n        this.scanner.next();\n        this.eat(IDENT);\n      } else if (expectIdent) {\n        this.error('Identifier is expected', this.scanner.tokenEnd);\n      }\n    } else if (expectIdent) {\n      this.error('Vertical line is expected');\n    }\n\n    if (checkColon && this.scanner.tokenType === COLON) {\n      this.scanner.next();\n      this.eat(IDENT);\n    }\n\n    return {\n      type: 'Identifier',\n      loc: this.getLocation(start, this.scanner.tokenStart),\n      name: this.scanner.substrToCursor(start)\n    };\n  }\n\n  function getOperator() {\n    var start = this.scanner.tokenStart;\n    var code = this.scanner.source.charCodeAt(start);\n\n    if (code !== EQUALSSIGN && code !== TILDE && code !== CIRCUMFLEXACCENT && code !== DOLLARSIGN && code !== ASTERISK && code !== VERTICALLINE) {\n      this.error('Attribute selector (=, ~=, ^=, $=, *=, |=) is expected');\n    }\n\n    this.scanner.next();\n\n    if (code !== EQUALSSIGN) {\n      if (!this.scanner.isDelim(EQUALSSIGN)) {\n        this.error('Equal sign is expected');\n      }\n\n      this.scanner.next();\n    }\n\n    return this.scanner.substrToCursor(start);\n  }\n\n  module.exports = {\n    name: 'AttributeSelector',\n    structure: {\n      name: 'Identifier',\n      matcher: [String, null],\n      value: ['String', 'Identifier', null],\n      flags: [String, null]\n    },\n    parse: function parse() {\n      var start = this.scanner.tokenStart;\n      var name;\n      var matcher = null;\n      var value = null;\n      var flags = null;\n      this.eat(LEFTSQUAREBRACKET);\n      this.scanner.skipSC();\n      name = getAttributeName.call(this);\n      this.scanner.skipSC();\n\n      if (this.scanner.tokenType !== RIGHTSQUAREBRACKET) {\n        if (this.scanner.tokenType !== IDENT) {\n          matcher = getOperator.call(this);\n          this.scanner.skipSC();\n          value = this.scanner.tokenType === STRING ? this.String() : this.Identifier();\n          this.scanner.skipSC();\n        }\n\n        if (this.scanner.tokenType === IDENT) {\n          flags = this.scanner.getTokenValue();\n          this.scanner.next();\n          this.scanner.skipSC();\n        }\n      }\n\n      this.eat(RIGHTSQUAREBRACKET);\n      return {\n        type: 'AttributeSelector',\n        loc: this.getLocation(start, this.scanner.tokenStart),\n        name: name,\n        matcher: matcher,\n        value: value,\n        flags: flags\n      };\n    },\n    generate: function generate(node) {\n      var flagsPrefix = ' ';\n      this.chunk('[');\n      this.node(node.name);\n\n      if (node.matcher !== null) {\n        this.chunk(node.matcher);\n\n        if (node.value !== null) {\n          this.node(node.value);\n\n          if (node.value.type === 'String') {\n            flagsPrefix = '';\n          }\n        }\n      }\n\n      if (node.flags !== null) {\n        this.chunk(flagsPrefix);\n        this.chunk(node.flags);\n      }\n\n      this.chunk(']');\n    }\n  };\n});","lineCount":149,"map":[[2,0,3,0],[2,6,3,4,"IDENT"],[2,11,3,9],[2,14,3,12],[2,69,3,17,"Ident"],[2,74,3,0],[4,0,4,0],[4,6,4,4,"STRING"],[4,12,4,10],[4,15,4,13],[4,70,4,18,"String"],[4,76,4,0],[6,0,5,0],[6,6,5,4,"COLON"],[6,11,5,9],[6,14,5,12],[6,69,5,17,"Colon"],[6,74,5,0],[8,0,6,0],[8,6,6,4,"LEFTSQUAREBRACKET"],[8,23,6,21],[8,26,6,24],[8,81,6,29,"LeftSquareBracket"],[8,98,6,0],[10,0,7,0],[10,6,7,4,"RIGHTSQUAREBRACKET"],[10,24,7,22],[10,27,7,25],[10,82,7,30,"RightSquareBracket"],[10,100,7,0],[12,0,8,0],[12,6,8,4,"DOLLARSIGN"],[12,16,8,14],[12,19,8,17],[12,25,8,0],[13,0,9,0],[13,6,9,4,"ASTERISK"],[13,14,9,12],[13,17,9,15],[13,23,9,0],[14,0,10,0],[14,6,10,4,"EQUALSSIGN"],[14,16,10,14],[14,19,10,17],[14,25,10,0],[15,0,11,0],[15,6,11,4,"CIRCUMFLEXACCENT"],[15,22,11,20],[15,25,11,23],[15,31,11,0],[16,0,12,0],[16,6,12,4,"VERTICALLINE"],[16,18,12,16],[16,21,12,19],[16,27,12,0],[17,0,13,0],[17,6,13,4,"TILDE"],[17,11,13,9],[17,14,13,12],[17,20,13,0],[19,0,15,0],[19,11,15,9,"getAttributeName"],[19,27,15,0],[19,30,15,28],[20,0,16,4],[20,8,16,8],[20,13,16,13,"scanner"],[20,20,16,8],[20,21,16,21,"eof"],[20,24,16,4],[20,26,16,26],[21,0,17,8],[21,11,17,13,"error"],[21,16,17,8],[21,17,17,19],[21,42,17,8],[22,0,18,5],[24,0,20,4],[24,8,20,8,"start"],[24,13,20,13],[24,16,20,16],[24,21,20,21,"scanner"],[24,28,20,16],[24,29,20,29,"tokenStart"],[24,39,20,4],[25,0,21,4],[25,8,21,8,"expectIdent"],[25,19,21,19],[25,22,21,22],[25,27,21,4],[26,0,22,4],[26,8,22,8,"checkColon"],[26,18,22,18],[26,21,22,21],[26,25,22,4],[28,0,24,4],[28,8,24,8],[28,13,24,13,"scanner"],[28,20,24,8],[28,21,24,21,"isDelim"],[28,28,24,8],[28,29,24,29,"ASTERISK"],[28,37,24,8],[28,38,24,4],[28,40,24,40],[29,0,25,8,"expectIdent"],[29,6,25,8,"expectIdent"],[29,17,25,19],[29,20,25,22],[29,24,25,8],[30,0,26,8,"checkColon"],[30,6,26,8,"checkColon"],[30,16,26,18],[30,19,26,21],[30,24,26,8],[31,0,27,8],[31,11,27,13,"scanner"],[31,18,27,8],[31,19,27,21,"next"],[31,23,27,8],[32,0,28,5],[32,5,24,4],[32,11,28,11],[32,15,28,15],[32,16,28,16],[32,21,28,21,"scanner"],[32,28,28,16],[32,29,28,29,"isDelim"],[32,36,28,16],[32,37,28,37,"VERTICALLINE"],[32,49,28,16],[32,50,28,11],[32,52,28,52],[33,0,29,8],[33,11,29,13,"eat"],[33,14,29,8],[33,15,29,17,"IDENT"],[33,20,29,8],[34,0,30,5],[36,0,32,4],[36,8,32,8],[36,13,32,13,"scanner"],[36,20,32,8],[36,21,32,21,"isDelim"],[36,28,32,8],[36,29,32,29,"VERTICALLINE"],[36,41,32,8],[36,42,32,4],[36,44,32,44],[37,0,33,8],[37,10,33,12],[37,15,33,17,"scanner"],[37,22,33,12],[37,23,33,25,"source"],[37,29,33,12],[37,30,33,32,"charCodeAt"],[37,40,33,12],[37,41,33,43],[37,46,33,48,"scanner"],[37,53,33,43],[37,54,33,56,"tokenStart"],[37,64,33,43],[37,67,33,69],[37,68,33,12],[37,74,33,76,"EQUALSSIGN"],[37,84,33,8],[37,86,33,88],[38,0,34,12],[38,13,34,17,"scanner"],[38,20,34,12],[38,21,34,25,"next"],[38,25,34,12],[39,0,35,12],[39,13,35,17,"eat"],[39,16,35,12],[39,17,35,21,"IDENT"],[39,22,35,12],[40,0,36,9],[40,7,33,8],[40,13,36,15],[40,17,36,19,"expectIdent"],[40,28,36,15],[40,30,36,32],[41,0,37,12],[41,13,37,17,"error"],[41,18,37,12],[41,19,37,23],[41,43,37,12],[41,45,37,49],[41,50,37,54,"scanner"],[41,57,37,49],[41,58,37,62,"tokenEnd"],[41,66,37,12],[42,0,38,9],[43,0,39,5],[43,5,32,4],[43,11,39,11],[43,15,39,15,"expectIdent"],[43,26,39,11],[43,28,39,28],[44,0,40,8],[44,11,40,13,"error"],[44,16,40,8],[44,17,40,19],[44,44,40,8],[45,0,41,5],[47,0,43,4],[47,8,43,8,"checkColon"],[47,18,43,18],[47,22,43,22],[47,27,43,27,"scanner"],[47,34,43,22],[47,35,43,35,"tokenType"],[47,44,43,22],[47,49,43,49,"COLON"],[47,54,43,4],[47,56,43,56],[48,0,44,8],[48,11,44,13,"scanner"],[48,18,44,8],[48,19,44,21,"next"],[48,23,44,8],[49,0,45,8],[49,11,45,13,"eat"],[49,14,45,8],[49,15,45,17,"IDENT"],[49,20,45,8],[50,0,46,5],[52,0,48,4],[52,11,48,11],[53,0,49,8,"type"],[53,6,49,8,"type"],[53,10,49,12],[53,12,49,14],[53,24,48,11],[54,0,50,8,"loc"],[54,6,50,8,"loc"],[54,9,50,11],[54,11,50,13],[54,16,50,18,"getLocation"],[54,27,50,13],[54,28,50,30,"start"],[54,33,50,13],[54,35,50,37],[54,40,50,42,"scanner"],[54,47,50,37],[54,48,50,50,"tokenStart"],[54,58,50,13],[54,59,48,11],[55,0,51,8,"name"],[55,6,51,8,"name"],[55,10,51,12],[55,12,51,14],[55,17,51,19,"scanner"],[55,24,51,14],[55,25,51,27,"substrToCursor"],[55,39,51,14],[55,40,51,42,"start"],[55,45,51,14],[56,0,48,11],[56,5,48,4],[57,0,53,1],[59,0,55,0],[59,11,55,9,"getOperator"],[59,22,55,0],[59,25,55,23],[60,0,56,4],[60,8,56,8,"start"],[60,13,56,13],[60,16,56,16],[60,21,56,21,"scanner"],[60,28,56,16],[60,29,56,29,"tokenStart"],[60,39,56,4],[61,0,57,4],[61,8,57,8,"code"],[61,12,57,12],[61,15,57,15],[61,20,57,20,"scanner"],[61,27,57,15],[61,28,57,28,"source"],[61,34,57,15],[61,35,57,35,"charCodeAt"],[61,45,57,15],[61,46,57,46,"start"],[61,51,57,15],[61,52,57,4],[63,0,59,4],[63,8,59,8,"code"],[63,12,59,12],[63,17,59,17,"EQUALSSIGN"],[63,27,59,8],[63,31,60,8,"code"],[63,35,60,12],[63,40,60,17,"TILDE"],[63,45,59,8],[63,49,61,8,"code"],[63,53,61,12],[63,58,61,17,"CIRCUMFLEXACCENT"],[63,74,59,8],[63,78,62,8,"code"],[63,82,62,12],[63,87,62,17,"DOLLARSIGN"],[63,97,59,8],[63,101,63,8,"code"],[63,105,63,12],[63,110,63,17,"ASTERISK"],[63,118,59,8],[63,122,64,8,"code"],[63,126,64,12],[63,131,64,17,"VERTICALLINE"],[63,143,59,4],[63,145,65,6],[64,0,66,8],[64,11,66,13,"error"],[64,16,66,8],[64,17,66,19],[64,73,66,8],[65,0,67,5],[67,0,69,4],[67,9,69,9,"scanner"],[67,16,69,4],[67,17,69,17,"next"],[67,21,69,4],[69,0,71,4],[69,8,71,8,"code"],[69,12,71,12],[69,17,71,17,"EQUALSSIGN"],[69,27,71,4],[69,29,71,29],[70,0,72,8],[70,10,72,12],[70,11,72,13],[70,16,72,18,"scanner"],[70,23,72,13],[70,24,72,26,"isDelim"],[70,31,72,13],[70,32,72,34,"EQUALSSIGN"],[70,42,72,13],[70,43,72,8],[70,45,72,47],[71,0,73,12],[71,13,73,17,"error"],[71,18,73,12],[71,19,73,23],[71,43,73,12],[72,0,74,9],[74,0,76,8],[74,11,76,13,"scanner"],[74,18,76,8],[74,19,76,21,"next"],[74,23,76,8],[75,0,77,5],[77,0,79,4],[77,11,79,11],[77,16,79,16,"scanner"],[77,23,79,11],[77,24,79,24,"substrToCursor"],[77,38,79,11],[77,39,79,39,"start"],[77,44,79,11],[77,45,79,4],[78,0,80,1],[80,0,84,0,"module"],[80,2,84,0,"module"],[80,8,84,6],[80,9,84,7,"exports"],[80,16,84,0],[80,19,84,17],[81,0,85,4,"name"],[81,4,85,4,"name"],[81,8,85,8],[81,10,85,10],[81,29,84,17],[82,0,86,4,"structure"],[82,4,86,4,"structure"],[82,13,86,13],[82,15,86,15],[83,0,87,8,"name"],[83,6,87,8,"name"],[83,10,87,12],[83,12,87,14],[83,24,86,15],[84,0,88,8,"matcher"],[84,6,88,8,"matcher"],[84,13,88,15],[84,15,88,17],[84,16,88,18,"String"],[84,22,88,17],[84,24,88,26],[84,28,88,17],[84,29,86,15],[85,0,89,8,"value"],[85,6,89,8,"value"],[85,11,89,13],[85,13,89,15],[85,14,89,16],[85,22,89,15],[85,24,89,26],[85,36,89,15],[85,38,89,40],[85,42,89,15],[85,43,86,15],[86,0,90,8,"flags"],[86,6,90,8,"flags"],[86,11,90,13],[86,13,90,15],[86,14,90,16,"String"],[86,20,90,15],[86,22,90,24],[86,26,90,15],[87,0,86,15],[87,5,84,17],[88,0,92,4,"parse"],[88,4,92,4,"parse"],[88,9,92,9],[88,11,92,11],[88,28,92,22],[89,0,93,8],[89,10,93,12,"start"],[89,15,93,17],[89,18,93,20],[89,23,93,25,"scanner"],[89,30,93,20],[89,31,93,33,"tokenStart"],[89,41,93,8],[90,0,94,8],[90,10,94,12,"name"],[90,14,94,8],[91,0,95,8],[91,10,95,12,"matcher"],[91,17,95,19],[91,20,95,22],[91,24,95,8],[92,0,96,8],[92,10,96,12,"value"],[92,15,96,17],[92,18,96,20],[92,22,96,8],[93,0,97,8],[93,10,97,12,"flags"],[93,15,97,17],[93,18,97,20],[93,22,97,8],[94,0,99,8],[94,11,99,13,"eat"],[94,14,99,8],[94,15,99,17,"LEFTSQUAREBRACKET"],[94,32,99,8],[95,0,100,8],[95,11,100,13,"scanner"],[95,18,100,8],[95,19,100,21,"skipSC"],[95,25,100,8],[96,0,102,8,"name"],[96,6,102,8,"name"],[96,10,102,12],[96,13,102,15,"getAttributeName"],[96,29,102,31],[96,30,102,32,"call"],[96,34,102,15],[96,35,102,37],[96,39,102,15],[96,40,102,8],[97,0,103,8],[97,11,103,13,"scanner"],[97,18,103,8],[97,19,103,21,"skipSC"],[97,25,103,8],[99,0,105,8],[99,10,105,12],[99,15,105,17,"scanner"],[99,22,105,12],[99,23,105,25,"tokenType"],[99,32,105,12],[99,37,105,39,"RIGHTSQUAREBRACKET"],[99,55,105,8],[99,57,105,59],[100,0,107,12],[100,12,107,16],[100,17,107,21,"scanner"],[100,24,107,16],[100,25,107,29,"tokenType"],[100,34,107,16],[100,39,107,43,"IDENT"],[100,44,107,12],[100,46,107,50],[101,0,108,16,"matcher"],[101,10,108,16,"matcher"],[101,17,108,23],[101,20,108,26,"getOperator"],[101,31,108,37],[101,32,108,38,"call"],[101,36,108,26],[101,37,108,43],[101,41,108,26],[101,42,108,16],[102,0,110,16],[102,15,110,21,"scanner"],[102,22,110,16],[102,23,110,29,"skipSC"],[102,29,110,16],[103,0,112,16,"value"],[103,10,112,16,"value"],[103,15,112,21],[103,18,112,24],[103,23,112,29,"scanner"],[103,30,112,24],[103,31,112,37,"tokenType"],[103,40,112,24],[103,45,112,51,"STRING"],[103,51,112,24],[103,54,113,22],[103,59,113,27,"String"],[103,65,113,22],[103,67,112,24],[103,70,114,22],[103,75,114,27,"Identifier"],[103,85,114,22],[103,87,112,16],[104,0,116,16],[104,15,116,21,"scanner"],[104,22,116,16],[104,23,116,29,"skipSC"],[104,29,116,16],[105,0,117,13],[107,0,120,12],[107,12,120,16],[107,17,120,21,"scanner"],[107,24,120,16],[107,25,120,29,"tokenType"],[107,34,120,16],[107,39,120,43,"IDENT"],[107,44,120,12],[107,46,120,50],[108,0,121,16,"flags"],[108,10,121,16,"flags"],[108,15,121,21],[108,18,121,24],[108,23,121,29,"scanner"],[108,30,121,24],[108,31,121,37,"getTokenValue"],[108,44,121,24],[108,46,121,16],[109,0,122,16],[109,15,122,21,"scanner"],[109,22,122,16],[109,23,122,29,"next"],[109,27,122,16],[110,0,124,16],[110,15,124,21,"scanner"],[110,22,124,16],[110,23,124,29,"skipSC"],[110,29,124,16],[111,0,125,13],[112,0,126,9],[114,0,128,8],[114,11,128,13,"eat"],[114,14,128,8],[114,15,128,17,"RIGHTSQUAREBRACKET"],[114,33,128,8],[115,0,130,8],[115,13,130,15],[116,0,131,12,"type"],[116,8,131,12,"type"],[116,12,131,16],[116,14,131,18],[116,33,130,15],[117,0,132,12,"loc"],[117,8,132,12,"loc"],[117,11,132,15],[117,13,132,17],[117,18,132,22,"getLocation"],[117,29,132,17],[117,30,132,34,"start"],[117,35,132,17],[117,37,132,41],[117,42,132,46,"scanner"],[117,49,132,41],[117,50,132,54,"tokenStart"],[117,60,132,17],[117,61,130,15],[118,0,133,12,"name"],[118,8,133,12,"name"],[118,12,133,16],[118,14,133,18,"name"],[118,18,130,15],[119,0,134,12,"matcher"],[119,8,134,12,"matcher"],[119,15,134,19],[119,17,134,21,"matcher"],[119,24,130,15],[120,0,135,12,"value"],[120,8,135,12,"value"],[120,13,135,17],[120,15,135,19,"value"],[120,20,130,15],[121,0,136,12,"flags"],[121,8,136,12,"flags"],[121,13,136,17],[121,15,136,19,"flags"],[122,0,130,15],[122,7,130,8],[123,0,138,5],[123,5,84,17],[124,0,139,4,"generate"],[124,4,139,4,"generate"],[124,12,139,12],[124,14,139,14],[124,32,139,23,"node"],[124,36,139,14],[124,38,139,29],[125,0,140,8],[125,10,140,12,"flagsPrefix"],[125,21,140,23],[125,24,140,26],[125,27,140,8],[126,0,142,8],[126,11,142,13,"chunk"],[126,16,142,8],[126,17,142,19],[126,20,142,8],[127,0,143,8],[127,11,143,13,"node"],[127,15,143,8],[127,16,143,18,"node"],[127,20,143,22],[127,21,143,23,"name"],[127,25,143,8],[129,0,145,8],[129,10,145,12,"node"],[129,14,145,16],[129,15,145,17,"matcher"],[129,22,145,12],[129,27,145,29],[129,31,145,8],[129,33,145,35],[130,0,146,12],[130,13,146,17,"chunk"],[130,18,146,12],[130,19,146,23,"node"],[130,23,146,27],[130,24,146,28,"matcher"],[130,31,146,12],[132,0,148,12],[132,12,148,16,"node"],[132,16,148,20],[132,17,148,21,"value"],[132,22,148,16],[132,27,148,31],[132,31,148,12],[132,33,148,37],[133,0,149,16],[133,15,149,21,"node"],[133,19,149,16],[133,20,149,26,"node"],[133,24,149,30],[133,25,149,31,"value"],[133,30,149,16],[135,0,152,16],[135,14,152,20,"node"],[135,18,152,24],[135,19,152,25,"value"],[135,24,152,20],[135,25,152,31,"type"],[135,29,152,20],[135,34,152,40],[135,42,152,16],[135,44,152,50],[136,0,153,20,"flagsPrefix"],[136,12,153,20,"flagsPrefix"],[136,23,153,31],[136,26,153,34],[136,28,153,20],[137,0,154,17],[138,0,155,13],[139,0,156,9],[141,0,158,8],[141,10,158,12,"node"],[141,14,158,16],[141,15,158,17,"flags"],[141,20,158,12],[141,25,158,27],[141,29,158,8],[141,31,158,33],[142,0,159,12],[142,13,159,17,"chunk"],[142,18,159,12],[142,19,159,23,"flagsPrefix"],[142,30,159,12],[143,0,160,12],[143,13,160,17,"chunk"],[143,18,160,12],[143,19,160,23,"node"],[143,23,160,27],[143,24,160,28,"flags"],[143,29,160,12],[144,0,161,9],[146,0,163,8],[146,11,163,13,"chunk"],[146,16,163,8],[146,17,163,19],[146,20,163,8],[147,0,164,5],[148,0,84,17],[148,3,84,0]],"functionMap":{"names":["<global>","getAttributeName","getOperator","module.exports.parse","module.exports.generate"],"mappings":"AAA;ACc;CDsC;AEE;CFyB;WGY;KH8C;cIC;KJyB"}},"type":"js/module"}]}