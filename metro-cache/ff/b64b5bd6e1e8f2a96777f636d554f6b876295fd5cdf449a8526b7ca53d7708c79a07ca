{"dependencies":[{"name":"../base","data":{"asyncType":null,"locs":[{"start":{"line":18,"column":19},"end":{"line":18,"column":23},"identifierName":"cond"},{"start":{"line":19,"column":20},"end":{"line":19,"column":23},"identifierName":"sub"},{"start":{"line":27,"column":13},"end":{"line":27,"column":16},"identifierName":"pow"},{"start":{"line":28,"column":13},"end":{"line":28,"column":19},"identifierName":"divide"},{"start":{"line":29,"column":4},"end":{"line":29,"column":12},"identifierName":"multiply"},{"start":{"line":29,"column":34},"end":{"line":29,"column":37},"identifierName":"sub"},{"start":{"line":30,"column":4},"end":{"line":30,"column":7},"identifierName":"sub"},{"start":{"line":32,"column":13},"end":{"line":32,"column":19},"identifierName":"divide"},{"start":{"line":33,"column":12},"end":{"line":33,"column":20},"identifierName":"multiply"},{"start":{"line":34,"column":12},"end":{"line":34,"column":15},"identifierName":"add"},{"start":{"line":34,"column":32},"end":{"line":34,"column":40},"identifierName":"multiply"},{"start":{"line":35,"column":9},"end":{"line":35,"column":14},"identifierName":"block"},{"start":{"line":36,"column":4},"end":{"line":36,"column":7},"identifierName":"set"},{"start":{"line":37,"column":4},"end":{"line":37,"column":7},"identifierName":"set"},{"start":{"line":38,"column":4},"end":{"line":38,"column":7},"identifierName":"set"},{"start":{"line":39,"column":4},"end":{"line":39,"column":8},"identifierName":"cond"},{"start":{"line":39,"column":9},"end":{"line":39,"column":17},"identifierName":"lessThan"},{"start":{"line":39,"column":18},"end":{"line":39,"column":21},"identifierName":"abs"},{"start":{"line":39,"column":41},"end":{"line":39,"column":44},"identifierName":"set"},{"start":{"line":43,"column":18},"end":{"line":43,"column":22},"identifierName":"proc"}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = decayAnimation;\n  var VELOCITY_EPS = 5;\n\n  function decay(clock, state, config) {\n    var lastTime = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").cond)(state.time, state.time, clock);\n    var deltaTime = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").sub)(clock, lastTime);\n    var kv = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").pow)(config.deceleration, deltaTime);\n    var kx = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").divide)((0, _$$_REQUIRE(_dependencyMap[0], \"../base\").multiply)(config.deceleration, (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").sub)(1, kv)), (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").sub)(1, config.deceleration));\n    var v0 = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").divide)(state.velocity, 1000);\n    var v = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").multiply)(v0, kv, 1000);\n    var x = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").add)(state.position, (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").multiply)(v0, kx));\n    return (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").block)([(0, _$$_REQUIRE(_dependencyMap[0], \"../base\").set)(state.position, x), (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").set)(state.velocity, v), (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").set)(state.time, clock), (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").cond)((0, _$$_REQUIRE(_dependencyMap[0], \"../base\").lessThan)((0, _$$_REQUIRE(_dependencyMap[0], \"../base\").abs)(v), VELOCITY_EPS), (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").set)(state.finished, 1))]);\n  }\n\n  var procDecay = (0, _$$_REQUIRE(_dependencyMap[0], \"../base\").proc)(function (clock, time, velocity, position, finished, deceleration) {\n    return decay(clock, {\n      time: time,\n      velocity: velocity,\n      position: position,\n      finished: finished\n    }, {\n      deceleration: deceleration\n    });\n  });\n\n  function decayAnimation(clock, _ref, _ref2) {\n    var time = _ref.time,\n        velocity = _ref.velocity,\n        position = _ref.position,\n        finished = _ref.finished;\n    var deceleration = _ref2.deceleration;\n    return procDecay(clock, time, velocity, position, finished, deceleration);\n  }\n});","lineCount":38,"map":[[6,0,15,0],[6,6,15,6,"VELOCITY_EPS"],[6,18,15,18],[6,21,15,21],[6,22,15,0],[8,0,17,0],[8,11,17,9,"decay"],[8,16,17,0],[8,17,17,15,"clock"],[8,22,17,0],[8,24,17,22,"state"],[8,29,17,0],[8,31,17,29,"config"],[8,37,17,0],[8,39,17,37],[9,0,18,2],[9,8,18,8,"lastTime"],[9,16,18,16],[9,19,18,19],[9,71,18,24,"state"],[9,76,18,29],[9,77,18,30,"time"],[9,81,18,19],[9,83,18,36,"state"],[9,88,18,41],[9,89,18,42,"time"],[9,93,18,19],[9,95,18,48,"clock"],[9,100,18,19],[9,101,18,2],[10,0,19,2],[10,8,19,8,"deltaTime"],[10,17,19,17],[10,20,19,20],[10,71,19,24,"clock"],[10,76,19,20],[10,78,19,31,"lastTime"],[10,86,19,20],[10,87,19,2],[11,0,27,2],[11,8,27,8,"kv"],[11,10,27,10],[11,13,27,13],[11,64,27,17,"config"],[11,70,27,23],[11,71,27,24,"deceleration"],[11,83,27,13],[11,85,27,38,"deltaTime"],[11,94,27,13],[11,95,27,2],[12,0,28,2],[12,8,28,8,"kx"],[12,10,28,10],[12,13,28,13],[12,67,29,4],[12,123,29,13,"config"],[12,129,29,19],[12,130,29,20,"deceleration"],[12,142,29,4],[12,144,29,34],[12,195,29,38],[12,196,29,34],[12,198,29,41,"kv"],[12,200,29,34],[12,201,29,4],[12,202,28,13],[12,204,30,4],[12,255,30,8],[12,256,30,4],[12,258,30,11,"config"],[12,264,30,17],[12,265,30,18,"deceleration"],[12,277,30,4],[12,278,28,13],[12,279,28,2],[13,0,32,2],[13,8,32,8,"v0"],[13,10,32,10],[13,13,32,13],[13,67,32,20,"state"],[13,72,32,25],[13,73,32,26,"velocity"],[13,81,32,13],[13,83,32,36],[13,87,32,13],[13,88,32,2],[14,0,33,2],[14,8,33,8,"v"],[14,9,33,9],[14,12,33,12],[14,68,33,21,"v0"],[14,70,33,12],[14,72,33,25,"kv"],[14,74,33,12],[14,76,33,29],[14,80,33,12],[14,81,33,2],[15,0,34,2],[15,8,34,8,"x"],[15,9,34,9],[15,12,34,12],[15,63,34,16,"state"],[15,68,34,21],[15,69,34,22,"position"],[15,77,34,12],[15,79,34,32],[15,135,34,41,"v0"],[15,137,34,32],[15,139,34,45,"kx"],[15,141,34,32],[15,142,34,12],[15,143,34,2],[16,0,35,2],[16,11,35,9],[16,64,35,15],[16,65,36,4],[16,116,36,8,"state"],[16,121,36,13],[16,122,36,14,"position"],[16,130,36,4],[16,132,36,24,"x"],[16,133,36,4],[16,134,35,15],[16,136,37,4],[16,187,37,8,"state"],[16,192,37,13],[16,193,37,14,"velocity"],[16,201,37,4],[16,203,37,24,"v"],[16,204,37,4],[16,205,35,15],[16,207,38,4],[16,258,38,8,"state"],[16,263,38,13],[16,264,38,14,"time"],[16,268,38,4],[16,270,38,20,"clock"],[16,275,38,4],[16,276,35,15],[16,278,39,4],[16,330,39,9],[16,386,39,18],[16,437,39,22,"v"],[16,438,39,18],[16,439,39,9],[16,441,39,26,"VELOCITY_EPS"],[16,453,39,9],[16,454,39,4],[16,456,39,41],[16,507,39,45,"state"],[16,512,39,50],[16,513,39,51,"finished"],[16,521,39,41],[16,523,39,61],[16,524,39,41],[16,525,39,4],[16,526,35,15],[16,527,35,9],[16,528,35,2],[17,0,41,1],[19,0,43,0],[19,6,43,6,"procDecay"],[19,15,43,15],[19,18,43,18],[19,70,44,2],[19,80,44,3,"clock"],[19,85,44,2],[19,87,44,10,"time"],[19,91,44,2],[19,93,44,16,"velocity"],[19,101,44,2],[19,103,44,26,"position"],[19,111,44,2],[19,113,44,36,"finished"],[19,121,44,2],[19,123,44,46,"deceleration"],[19,135,44,2],[20,0,44,2],[20,11,45,4,"decay"],[20,16,45,9],[20,17,45,10,"clock"],[20,22,45,9],[20,24,45,17],[21,0,45,19,"time"],[21,6,45,19,"time"],[21,10,45,23],[21,12,45,19,"time"],[21,16,45,17],[22,0,45,25,"velocity"],[22,6,45,25,"velocity"],[22,14,45,33],[22,16,45,25,"velocity"],[22,24,45,17],[23,0,45,35,"position"],[23,6,45,35,"position"],[23,14,45,43],[23,16,45,35,"position"],[23,24,45,17],[24,0,45,45,"finished"],[24,6,45,45,"finished"],[24,14,45,53],[24,16,45,45,"finished"],[25,0,45,17],[25,5,45,9],[25,7,45,57],[26,0,45,59,"deceleration"],[26,6,45,59,"deceleration"],[26,18,45,71],[26,20,45,59,"deceleration"],[27,0,45,57],[27,5,45,9],[27,6,44,2],[28,0,44,2],[28,3,43,18],[28,4,43,0],[30,0,48,15],[30,11,48,24,"decayAnimation"],[30,25,48,15],[30,26,49,2,"clock"],[30,31,48,15],[30,46,52,2],[31,0,52,2],[31,8,50,4,"time"],[31,12,52,2],[31,20,50,4,"time"],[31,24,52,2],[32,0,52,2],[32,8,50,10,"velocity"],[32,16,52,2],[32,24,50,10,"velocity"],[32,32,52,2],[33,0,52,2],[33,8,50,20,"position"],[33,16,52,2],[33,24,50,20,"position"],[33,32,52,2],[34,0,52,2],[34,8,50,30,"finished"],[34,16,52,2],[34,24,50,30,"finished"],[34,32,52,2],[35,0,52,2],[35,8,51,4,"deceleration"],[35,20,52,2],[35,29,51,4,"deceleration"],[35,41,52,2],[36,0,53,2],[36,11,53,9,"procDecay"],[36,20,53,18],[36,21,53,19,"clock"],[36,26,53,18],[36,28,53,26,"time"],[36,32,53,18],[36,34,53,32,"velocity"],[36,42,53,18],[36,44,53,42,"position"],[36,52,53,18],[36,54,53,52,"finished"],[36,62,53,18],[36,64,53,62,"deceleration"],[36,76,53,18],[36,77,53,2],[37,0,54,1]],"functionMap":{"names":["<global>","decay","proc$argument_0","decayAnimation"],"mappings":"AAA;ACgB;CDwB;EEG;0EFC;eGG;CHM"}},"type":"js/module"}]}