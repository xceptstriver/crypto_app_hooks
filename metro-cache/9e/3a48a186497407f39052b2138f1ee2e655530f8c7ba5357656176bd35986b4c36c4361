{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":51,"column":0}},{"start":{"line":1,"column":0},"end":{"line":51,"column":0}},{"start":{"line":1,"column":0},"end":{"line":51,"column":0}},{"start":{"line":3,"column":0},"end":{"line":3,"column":46}}]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":51,"column":0}}]}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":51,"column":0}}]}},{"name":"@babel/runtime/helpers/extends","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":51,"column":0}}]}},{"name":"./NativeReanimated","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0},"end":{"line":3,"column":46}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _classCallCheck2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _extends2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/extends\"));\n\n  var _NativeReanimated = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[4], \"./NativeReanimated\"));\n\n  var jsListener = function jsListener(eventName, handler) {\n    return function (evt) {\n      handler((0, _extends2.default)({}, evt.nativeEvent, {\n        eventName: eventName\n      }));\n    };\n  };\n\n  var WorkletEventHandler = function () {\n    function WorkletEventHandler(worklet) {\n      var eventNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      (0, _classCallCheck2.default)(this, WorkletEventHandler);\n      this.worklet = worklet;\n      this.eventNames = eventNames;\n      this.reattachNeeded = false;\n\n      if (!_NativeReanimated.default.native) {\n        this.listeners = eventNames.reduce(function (acc, eventName) {\n          acc[eventName] = jsListener(eventName, worklet);\n          return acc;\n        }, {});\n      }\n    }\n\n    (0, _createClass2.default)(WorkletEventHandler, [{\n      key: \"updateWorklet\",\n      value: function updateWorklet(newWorklet) {\n        this.worklet = newWorklet;\n        this.reattachNeeded = true;\n      }\n    }, {\n      key: \"registerForEvents\",\n      value: function registerForEvents(viewTag) {\n        var _this = this;\n\n        var fallbackEventName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n        this.viewTag = viewTag;\n        this.registrations = this.eventNames.map(function (eventName) {\n          return _NativeReanimated.default.registerEventHandler(viewTag + eventName, _this.worklet);\n        });\n\n        if (this.registrations.length === 0 && fallbackEventName) {\n          this.registrations.push(_NativeReanimated.default.registerEventHandler(viewTag + fallbackEventName, this.worklet));\n        }\n      }\n    }, {\n      key: \"unregisterFromEvents\",\n      value: function unregisterFromEvents() {\n        this.registrations && this.registrations.forEach(function (id) {\n          return _NativeReanimated.default.unregisterEventHandler(id);\n        });\n        this.registrations = undefined;\n      }\n    }]);\n    return WorkletEventHandler;\n  }();\n\n  exports.default = WorkletEventHandler;\n});","lineCount":73,"map":[[13,0,3,0],[15,0,5,0],[15,6,5,6,"jsListener"],[15,16,5,16],[15,19,5,19],[15,28,5,6,"jsListener"],[15,38,5,19],[15,39,5,20,"eventName"],[15,48,5,19],[15,50,5,31,"handler"],[15,57,5,19],[16,0,5,19],[16,11,5,43],[16,21,5,44,"evt"],[16,24,5,43],[16,26,5,52],[17,0,6,2,"handler"],[17,6,6,2,"handler"],[17,13,6,9],[17,41,6,15,"evt"],[17,44,6,18],[17,45,6,19,"nativeEvent"],[17,56,6,9],[18,0,6,32,"eventName"],[18,8,6,32,"eventName"],[18,17,6,41],[18,19,6,32,"eventName"],[19,0,6,9],[19,9,6,2],[20,0,7,1],[20,5,5,19],[21,0,5,19],[21,3,5,0],[23,6,9,21,"WorkletEventHandler"],[23,25],[24,0,10,2],[24,33,10,14,"worklet"],[24,40,10,2],[24,42,10,40],[25,0,10,40],[25,10,10,23,"eventNames"],[25,20,10,40],[25,91,10,36],[25,93,10,40],[26,0,10,40],[27,0,11,4],[27,11,11,9,"worklet"],[27,18,11,4],[27,21,11,19,"worklet"],[27,28,11,4],[28,0,12,4],[28,11,12,9,"eventNames"],[28,21,12,4],[28,24,12,22,"eventNames"],[28,34,12,4],[29,0,13,4],[29,11,13,9,"reattachNeeded"],[29,25,13,4],[29,28,13,26],[29,33,13,4],[31,0,15,4],[31,10,15,8],[31,11,15,9,"NativeModule"],[31,37,15,22,"native"],[31,43,15,4],[31,45,15,30],[32,0,16,6],[32,13,16,11,"listeners"],[32,22,16,6],[32,25,16,23,"eventNames"],[32,35,16,33],[32,36,16,34,"reduce"],[32,42,16,23],[32,43,16,41],[32,53,16,42,"acc"],[32,56,16,41],[32,58,16,47,"eventName"],[32,67,16,41],[32,69,16,61],[33,0,17,8,"acc"],[33,10,17,8,"acc"],[33,13,17,11],[33,14,17,12,"eventName"],[33,23,17,11],[33,24,17,8],[33,27,17,25,"jsListener"],[33,37,17,35],[33,38,17,36,"eventName"],[33,47,17,35],[33,49,17,47,"worklet"],[33,56,17,35],[33,57,17,8],[34,0,18,8],[34,17,18,15,"acc"],[34,20,18,8],[35,0,19,7],[35,9,16,23],[35,11,19,9],[35,13,16,23],[35,14,16,6],[36,0,20,5],[37,0,21,3],[41,13,23,2],[41,36,23,16,"newWorklet"],[41,46,23,2],[41,48,23,28],[42,0,24,4],[42,13,24,9,"worklet"],[42,20,24,4],[42,23,24,19,"newWorklet"],[42,33,24,4],[43,0,25,4],[43,13,25,9,"reattachNeeded"],[43,27,25,4],[43,30,25,26],[43,34,25,4],[44,0,26,3],[47,13,28,2],[47,40,28,20,"viewTag"],[47,47,28,2],[47,49,28,60],[48,0,28,60],[50,0,28,60],[50,12,28,29,"fallbackEventName"],[50,29,28,60],[50,100,28,49,"undefined"],[50,109,28,60],[51,0,29,4],[51,13,29,9,"viewTag"],[51,20,29,4],[51,23,29,19,"viewTag"],[51,30,29,4],[52,0,30,4],[52,13,30,9,"registrations"],[52,26,30,4],[52,29,30,25],[52,34,30,30,"eventNames"],[52,44,30,25],[52,45,30,41,"map"],[52,48,30,25],[52,49,30,45],[52,59,30,46,"eventName"],[52,68,30,45],[53,0,30,45],[53,17,31,6,"NativeModule"],[53,43,31,19,"registerEventHandler"],[53,63,31,6],[53,64,31,40,"viewTag"],[53,71,31,47],[53,74,31,50,"eventName"],[53,83,31,6],[53,85,31,61],[53,90,31,65],[53,91,31,66,"worklet"],[53,98,31,6],[53,99,30,45],[54,0,30,45],[54,9,30,25],[54,10,30,4],[56,0,33,4],[56,12,33,8],[56,17,33,13,"registrations"],[56,30,33,8],[56,31,33,27,"length"],[56,37,33,8],[56,42,33,38],[56,43,33,8],[56,47,33,43,"fallbackEventName"],[56,64,33,4],[56,66,33,62],[57,0,34,6],[57,15,34,11,"registrations"],[57,28,34,6],[57,29,34,25,"push"],[57,33,34,6],[57,34,35,8,"NativeModule"],[57,60,35,21,"registerEventHandler"],[57,80,35,8],[57,81,36,10,"viewTag"],[57,88,36,17],[57,91,36,20,"fallbackEventName"],[57,108,35,8],[57,110,37,10],[57,115,37,15,"worklet"],[57,122,35,8],[57,123,34,6],[58,0,40,5],[59,0,41,3],[62,13,43,2],[62,45,43,25],[63,0,44,4],[63,13,44,9,"registrations"],[63,26,44,4],[63,30,45,6],[63,35,45,11,"registrations"],[63,48,45,6],[63,49,45,25,"forEach"],[63,56,45,6],[63,57,45,33],[63,67,45,34,"id"],[63,69,45,33],[64,0,45,33],[64,17,46,8,"NativeModule"],[64,43,46,21,"unregisterEventHandler"],[64,65,46,8],[64,66,46,44,"id"],[64,68,46,8],[64,69,45,33],[65,0,45,33],[65,9,45,6],[65,10,44,4],[66,0,48,4],[66,13,48,9,"registrations"],[66,26,48,4],[66,29,48,25,"undefined"],[66,38,48,4],[67,0,49,3]],"functionMap":{"names":["<global>","jsListener","<anonymous>","WorkletEventHandler","constructor","eventNames.reduce$argument_0","updateWorklet","registerForEvents","eventNames.map$argument_0","unregisterFromEvents","registrations.forEach$argument_0"],"mappings":"AAA;mBCI,wBC;CFE;eGE;ECC;yCCM;ODG;GDE;EGE;GHG;EIE;6CCE;0EDC;GJU;EME;iCCE;+CDC;GNG;CHC"}},"type":"js/module"}]}