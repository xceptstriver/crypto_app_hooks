{"dependencies":[{"name":"immer","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":1,"column":58}}]}},{"name":"../utilities/logger","data":{"asyncType":null,"locs":[{"start":{"line":56,"column":4},"end":{"line":56,"column":9},"identifierName":"print"}]}},{"name":"./constants","data":{"asyncType":null,"locs":[{"start":{"line":72,"column":11},"end":{"line":72,"column":18},"identifierName":"ACTIONS"},{"start":{"line":76,"column":11},"end":{"line":76,"column":18},"identifierName":"ACTIONS"},{"start":{"line":80,"column":11},"end":{"line":80,"column":18},"identifierName":"ACTIONS"},{"start":{"line":81,"column":11},"end":{"line":81,"column":18},"identifierName":"ACTIONS"},{"start":{"line":90,"column":11},"end":{"line":90,"column":18},"identifierName":"ACTIONS"}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.reducer = void 0;\n\n  var _immer = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[0], \"immer\"));\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  (0, _immer.enableES5)();\n  (0, _immer.setAutoFreeze)(false);\n\n  var registerHost = function registerHost(draft, hostName) {\n    if (!(hostName in draft)) {\n      draft[hostName] = [];\n    }\n  };\n\n  var deregisterHost = function deregisterHost(draft, hostName) {\n    delete draft[hostName];\n  };\n\n  var addOrUpdatePortal = function addOrUpdatePortal(draft, hostName, portalName, node) {\n    if (!(hostName in draft)) {\n      registerHost(draft, hostName);\n    }\n\n    var index = draft[hostName].findIndex(function (item) {\n      return item.name === portalName;\n    });\n\n    if (index !== -1) {\n      draft[hostName][index].node = node;\n    } else {\n      draft[hostName].push({\n        name: portalName,\n        node: node\n      });\n    }\n  };\n\n  var removePortal = function removePortal(draft, hostName, portalName) {\n    if (!(hostName in draft)) {\n      (0, _$$_REQUIRE(_dependencyMap[1], \"../utilities/logger\").print)({\n        component: reducer.name,\n        method: removePortal.name,\n        params: \"Failed to remove portal '\" + portalName + \"', '\" + hostName + \"' was not registered!\"\n      });\n      return;\n    }\n\n    var index = draft[hostName].findIndex(function (item) {\n      return item.name === portalName;\n    });\n    if (index !== -1) draft[hostName].splice(index, 1);\n  };\n\n  var reducer = (0, _immer.default)(function (draft, action) {\n    var type = action.type;\n\n    switch (type) {\n      case _$$_REQUIRE(_dependencyMap[2], \"./constants\").ACTIONS.REGISTER_HOST:\n        registerHost(draft, action.hostName);\n        break;\n\n      case _$$_REQUIRE(_dependencyMap[2], \"./constants\").ACTIONS.DEREGISTER_HOST:\n        deregisterHost(draft, action.hostName);\n        break;\n\n      case _$$_REQUIRE(_dependencyMap[2], \"./constants\").ACTIONS.ADD_PORTAL:\n      case _$$_REQUIRE(_dependencyMap[2], \"./constants\").ACTIONS.UPDATE_PORTAL:\n        addOrUpdatePortal(draft, action.hostName, action.portalName, action.node);\n        break;\n\n      case _$$_REQUIRE(_dependencyMap[2], \"./constants\").ACTIONS.REMOVE_PORTAL:\n        removePortal(draft, action.hostName, action.portalName);\n        break;\n    }\n  });\n  exports.reducer = reducer;\n});","lineCount":84,"map":[[7,0,1,0],[13,0,7,0],[14,0,8,0],[14,28,8,14],[14,33,8,0],[16,0,10,0],[16,6,10,6,"registerHost"],[16,18,10,18],[16,21,10,21],[16,30,10,6,"registerHost"],[16,42,10,21],[16,43,11,2,"draft"],[16,48,10,21],[16,50,12,2,"hostName"],[16,58,10,21],[16,60,13,5],[17,0,14,2],[17,8,14,6],[17,10,14,8,"hostName"],[17,18,14,16],[17,22,14,20,"draft"],[17,27,14,6],[17,28,14,2],[17,30,14,28],[18,0,15,4,"draft"],[18,6,15,4,"draft"],[18,11,15,9],[18,12,15,10,"hostName"],[18,20,15,9],[18,21,15,4],[18,24,15,22],[18,26,15,4],[19,0,16,3],[20,0,17,1],[20,3,10,0],[22,0,19,0],[22,6,19,6,"deregisterHost"],[22,20,19,20],[22,23,19,23],[22,32,19,6,"deregisterHost"],[22,46,19,23],[22,47,20,2,"draft"],[22,52,19,23],[22,54,21,2,"hostName"],[22,62,19,23],[22,64,22,5],[23,0,23,2],[23,11,23,9,"draft"],[23,16,23,14],[23,17,23,15,"hostName"],[23,25,23,14],[23,26,23,2],[24,0,24,1],[24,3,19,0],[26,0,26,0],[26,6,26,6,"addOrUpdatePortal"],[26,23,26,23],[26,26,26,26],[26,35,26,6,"addOrUpdatePortal"],[26,52,26,26],[26,53,27,2,"draft"],[26,58,26,26],[26,60,28,2,"hostName"],[26,68,26,26],[26,70,29,2,"portalName"],[26,80,26,26],[26,82,30,2,"node"],[26,86,26,26],[26,88,31,5],[27,0,32,2],[27,8,32,6],[27,10,32,8,"hostName"],[27,18,32,16],[27,22,32,20,"draft"],[27,27,32,6],[27,28,32,2],[27,30,32,28],[28,0,33,4,"registerHost"],[28,6,33,4,"registerHost"],[28,18,33,16],[28,19,33,17,"draft"],[28,24,33,16],[28,26,33,24,"hostName"],[28,34,33,16],[28,35,33,4],[29,0,34,3],[31,0,39,2],[31,8,39,8,"index"],[31,13,39,13],[31,16,39,16,"draft"],[31,21,39,21],[31,22,39,22,"hostName"],[31,30,39,21],[31,31,39,16],[31,32,39,32,"findIndex"],[31,41,39,16],[31,42,39,42],[31,52,39,42,"item"],[31,56,39,46],[32,0,39,46],[32,13,39,50,"item"],[32,17,39,54],[32,18,39,55,"name"],[32,22,39,50],[32,27,39,64,"portalName"],[32,37,39,46],[33,0,39,46],[33,5,39,16],[33,6,39,2],[35,0,40,2],[35,8,40,6,"index"],[35,13,40,11],[35,18,40,16],[35,19,40,17],[35,20,40,2],[35,22,40,20],[36,0,41,4,"draft"],[36,6,41,4,"draft"],[36,11,41,9],[36,12,41,10,"hostName"],[36,20,41,9],[36,21,41,4],[36,22,41,20,"index"],[36,27,41,4],[36,29,41,27,"node"],[36,33,41,4],[36,36,41,34,"node"],[36,40,41,4],[37,0,42,3],[37,5,40,2],[37,11,42,9],[38,0,43,4,"draft"],[38,6,43,4,"draft"],[38,11,43,9],[38,12,43,10,"hostName"],[38,20,43,9],[38,21,43,4],[38,22,43,20,"push"],[38,26,43,4],[38,27,43,25],[39,0,44,6,"name"],[39,8,44,6,"name"],[39,12,44,10],[39,14,44,12,"portalName"],[39,24,43,25],[40,0,45,6,"node"],[40,8,45,6,"node"],[40,12,45,10],[40,14,45,6,"node"],[41,0,43,25],[41,7,43,4],[42,0,47,3],[43,0,48,1],[43,3,26,0],[45,0,50,0],[45,6,50,6,"removePortal"],[45,18,50,18],[45,21,50,21],[45,30,50,6,"removePortal"],[45,42,50,21],[45,43,51,2,"draft"],[45,48,50,21],[45,50,52,2,"hostName"],[45,58,50,21],[45,60,53,2,"portalName"],[45,70,50,21],[45,72,54,5],[46,0,55,2],[46,8,55,6],[46,10,55,8,"hostName"],[46,18,55,16],[46,22,55,20,"draft"],[46,27,55,6],[46,28,55,2],[46,30,55,28],[47,0,56,4],[47,71,56,10],[48,0,57,6,"component"],[48,8,57,6,"component"],[48,17,57,15],[48,19,57,17,"reducer"],[48,26,57,24],[48,27,57,25,"name"],[48,31,56,10],[49,0,58,6,"method"],[49,8,58,6,"method"],[49,14,58,12],[49,16,58,14,"removePortal"],[49,28,58,26],[49,29,58,27,"name"],[49,33,56,10],[50,0,59,6,"params"],[50,8,59,6,"params"],[50,14,59,12],[50,46,59,42,"portalName"],[50,56,59,12],[50,68,59,59,"hostName"],[50,76,59,12],[51,0,56,10],[51,7,56,4],[52,0,61,4],[53,0,62,3],[55,0,64,2],[55,8,64,8,"index"],[55,13,64,13],[55,16,64,16,"draft"],[55,21,64,21],[55,22,64,22,"hostName"],[55,30,64,21],[55,31,64,16],[55,32,64,32,"findIndex"],[55,41,64,16],[55,42,64,42],[55,52,64,42,"item"],[55,56,64,46],[56,0,64,46],[56,13,64,50,"item"],[56,17,64,54],[56,18,64,55,"name"],[56,22,64,50],[56,27,64,64,"portalName"],[56,37,64,46],[57,0,64,46],[57,5,64,16],[57,6,64,2],[58,0,65,2],[58,8,65,6,"index"],[58,13,65,11],[58,18,65,16],[58,19,65,17],[58,20,65,2],[58,22,65,20,"draft"],[58,27,65,25],[58,28,65,26,"hostName"],[58,36,65,25],[58,37,65,20],[58,38,65,36,"splice"],[58,44,65,20],[58,45,65,43,"index"],[58,50,65,20],[58,52,65,50],[58,53,65,20],[59,0,66,1],[59,3,50,0],[61,0,68,7],[61,6,68,13,"reducer"],[61,13,68,20],[61,16,68,23],[61,36,69,2],[61,46,69,3,"draft"],[61,51,69,2],[61,53,69,45,"action"],[61,59,69,2],[61,61,69,69],[62,0,70,4],[62,8,70,12,"type"],[62,12,70,4],[62,15,70,21,"action"],[62,21,70,4],[62,22,70,12,"type"],[62,26,70,4],[64,0,71,4],[64,12,71,12,"type"],[64,16,71,4],[65,0,72,6],[65,11,72,11,"ACTIONS"],[65,65,72,19,"REGISTER_HOST"],[65,78,72,6],[66,0,73,8,"registerHost"],[66,8,73,8,"registerHost"],[66,20,73,20],[66,21,73,21,"draft"],[66,26,73,20],[66,28,73,28,"action"],[66,34,73,34],[66,35,73,35,"hostName"],[66,43,73,20],[66,44,73,8],[67,0,74,8],[69,0,76,6],[69,11,76,11,"ACTIONS"],[69,65,76,19,"DEREGISTER_HOST"],[69,80,76,6],[70,0,77,8,"deregisterHost"],[70,8,77,8,"deregisterHost"],[70,22,77,22],[70,23,77,23,"draft"],[70,28,77,22],[70,30,77,30,"action"],[70,36,77,36],[70,37,77,37,"hostName"],[70,45,77,22],[70,46,77,8],[71,0,78,8],[73,0,80,6],[73,11,80,11,"ACTIONS"],[73,65,80,19,"ADD_PORTAL"],[73,75,80,6],[74,0,81,6],[74,11,81,11,"ACTIONS"],[74,65,81,19,"UPDATE_PORTAL"],[74,78,81,6],[75,0,82,8,"addOrUpdatePortal"],[75,8,82,8,"addOrUpdatePortal"],[75,25,82,25],[75,26,83,10,"draft"],[75,31,82,25],[75,33,84,10,"action"],[75,39,84,16],[75,40,84,17,"hostName"],[75,48,82,25],[75,50,85,11,"action"],[75,56,85,10],[75,57,85,38,"portalName"],[75,67,82,25],[75,69,86,11,"action"],[75,75,86,10],[75,76,86,38,"node"],[75,80,82,25],[75,81,82,8],[76,0,88,8],[78,0,90,6],[78,11,90,11,"ACTIONS"],[78,65,90,19,"REMOVE_PORTAL"],[78,78,90,6],[79,0,91,8,"removePortal"],[79,8,91,8,"removePortal"],[79,20,91,20],[79,21,92,10,"draft"],[79,26,91,20],[79,28,93,10,"action"],[79,34,93,16],[79,35,93,17,"hostName"],[79,43,91,20],[79,45,94,11,"action"],[79,51,94,10],[79,52,94,38,"portalName"],[79,62,91,20],[79,63,91,8],[80,0,96,8],[81,0,71,4],[82,0,98,3],[82,3,68,23],[82,4,68,7]],"functionMap":{"names":["<global>","registerHost","deregisterHost","addOrUpdatePortal","draft.hostName.findIndex$argument_0","removePortal","produce$argument_0"],"mappings":"AAA;qBCS;CDO;uBEE;CFK;0BGE;0CCa,gCD;CHS;qBKE;0CDc,gCC;CLE;EMG;GN6B"}},"type":"js/module"}]}